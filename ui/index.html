<!--
Copyright (c) Indrajit Banerjee
Licensed under the MIT License.
-->

<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>visualize-links: Visualize pointer-based data structures</title>
  <link rel="stylesheet" href="styles/main.css">
  <link rel="stylesheet" href="styles/canvas.css">
  <link rel="stylesheet" href="styles/history.css">
  <link rel="stylesheet" href="styles/compare.css">
  <link rel="stylesheet" href="styles/loading.css">
</head>

<body>
  <div id="app">
    <header>
      <strong>visualize-links</strong>
      <span id="status"></span>
      <span id="title"></span>
      <!-- TODO: implement graph freeze support -->
      <!-- <div id="freezeDiv">
        <input type="checkbox" id="freezeCheckbox" />
        <label for="freezeCheckbox">Freeze nodes</label>
      </div> -->
    </header>
    <div id="mainDiv">
      <div id="canvasDiv">
        <svg id="canvasSvg" preserveAspectRatio="xMidYMid meet" aria-label="Graph visualization">
          <defs>
            <marker id="arrowheadEndMarker" viewBox="0 -5 10 10" refX="5" orient="auto" markerWidth="5" markerHeight="5"
              stroke-width="0px" fill="context-stroke">
              <path d="M0,-5L10,0L0,5L2,0"></path>
            </marker>
            <marker id="arrowheadStartMarker" viewBox="0 -5 10 10" refX="5" orient="auto-start-reverse" markerWidth="5"
              markerHeight="5" stroke-width="0px" fill="context-stroke">
              <path d="M0,5L10,0L0,-5L2,0"></path>
            </marker>

            <pattern id="gridPattern" width="40" height="40" patternUnits="userSpaceOnUse">
              <text x="20" y="20" text-anchor="middle" dominant-baseline="middle" font-size="16" fill="#d1d5db">+</text>
            </pattern>
          </defs>
          <rect width="100%" height="100%" fill="url(#gridPattern)" />
          <g id="canvas">
          </g>
        </svg>
      </div>

      <aside id="rightPaneAside">
        <div id="compareBarDiv">
          <button id="compareBtn">Compare</button>
        </div>
        <div id="historyItemListDiv">
        </div>
      </aside>

      <div id="loadingScreenDiv">
        <div class="spinner"></div>
        <div id="loadingText">Loading graph…</div>
      </div>

      <div id="compareModal" class="modal hidden">
        <div class="modalContent">
          <div class="modalCompareDiv">
            Compare
            <select id="oldSelect"></select>
            →
            <select id="newSelect"></select>
          </div>
          <div class="modalActionsDiv">
            <button id="cancelCompareBtn">Cancel</button>
            <button id="confirmCompareBtn">Compare</button>
          </div>
        </div>
      </div>
    </div>

    <script type="module" src="./src/main.ts"></script>
</body>

</html>